{#
 * @copyright 2023 City of Bloomington, Indiana
 * @license http://www.gnu.org/licenses/agpl.txt GNU/AGPL, see LICENSE
 * @param Domain\Urls\Entities\Url url
#}
{% extends "html/layouts/default.twig" %}
{% block content %}
<section id="info">
    {% if isAllowed('urls', 'update', url) %}
    <header class="d-flex mb-3">
        <h1 class="flex-grow-1">{{ url.title    }} #{{ url.id       }}</h1>
        <a href="{{ uri('urls.update', {'id':url.id}) }}" class="btn btn-primary me-2 align-self-center">{{ _('edit'  ) }}</a>
        <a href="{{ uri('urls.delete', {'id':url.id}) }}" class="btn btn-danger me-2 align-self-center">{{ _('delete') }}</a>
    </header>
    {% endif %}
        <p>
            <a href="{{ url('urls.redirect', {'code':url.code}) }}">{{ url('urls.redirect', {'code':url.code}) }}</a>
            <i class="bi bi-arrow-right" aria-hidden="true"></i>
            <a class="link-secondary" href="{{ url.original }}">{{ url.original }}</a>
        </p>
    <table>
        <tr><th>Code</th>    <td>{{ url.code     }}</td></tr>
        <tr><th>Username</th><td>{{ url.username }}</td></tr>
        <tr><th>Created</th> <td>{{ url.created.format('c') }}</td></tr>
        <tr><th>Updated</th> <td>{{ url.updated.format('c') }}</td></tr>
        <tr><th>hits</th>    <td>{{ url.hits }}</td></tr>
        <tr><th>Preview</th> <td>{{ url.preview ? 'âœ“' : '' }}</td></tr>
    </table>

    <img src="{{ url('urls.qrcode', {'code':url.code} )}}" />
    
</section>
{% endblock %}